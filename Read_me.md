안녕하세요. 저는 이욱재입니다.

제가 만든 프로젝트는 PC방 관리 프로그램입니다.

이 프로젝트는 C언어로 진행하였는데요, 
C언어를 선택한 이유는 적은 용량으로 로컬 환경에서 빠른 실행 속도를 구현하고 싶었기 때문입니다.

[순서도 설명]
순서도 먼저 보여드리겠습니다.
순서도는 사진과 같습니다.
사용자가 화면에서 메뉴를 선택하면 메뉴에 해당 하는 기능을 core에서 호춣하고 그리고 core에서는 데이터를 저장하기 위해서 storage를 호출합니다.
storage는 실질적으로 데이터파일에 데이터를 저장하고 그 결과값을 전달 받아 core -> ui를 통해서 사용자에게 결과를 전달합니다.

프로젝트 구조 레이어드 아키텍처 방식으로 설계하였습니다.
레이어드 아키텍처는 소프트웨어를 기능별로 나누는 방식으로, 각 레이어가 하나의 책임만 담당하도록 하였습니다.
해당 방식을 사용한 이유는 코드의 유지 보수성을 높이기 위해서 사용하였습니다.

저는 프로젝트에서 총 3개의 레이어로 나누었습니다:
- UI 레이어: 화면 입출력을 통한 사용자 상호작용
- Core 레이어: 비즈니스 로직 (회원 인증, 시간 계산, 요금 계산)
- Storage 레이어: 데이터 저장 (CSV 파일 기반)

[UI 화면 예시]
UI레이어는 보시는바와 사용자의 입력출력을 담당하도록 하였습니다.

core 레이러를 설명 드리겠습니다.
core 레이어는 비즈니스 로직을 담당하는 곳이면 저는 총 3가지 비즈니스로 구성하였습니다.
로그인 담당인 auth, 요금 담당인 billing, 시간 담당인 time으로 구성했습니다.

먼저 로그인 기능을 설명드리겠습니다.
(ui/login.c 35번째 줄부터 보여주면서)
우선 사용자에게 아이디랑 입력 받고 아이디에 맞는 회원 정보를 데이터 파일에서 load 합니다.
만약 회원 정보가 없다면 회원 정보가 없다고 출력을 하고 있다면 
비밀번호를 입력 받습니다.
만약 회원의 잔여 시간이 존재 하지 않는다면 로그인을 불허하고 잔여 시간이 있다면
로그인을 담당하는 try_login을 호출합니다. (try_login.c 튼다)
try_login에서는 로그인 상태와 비밀번호를 검증하고 로그인 되어있거나 비밀번호가 틀리면 실패로 간주하도록 했습니다.

그리고 만약 회원 정보가 맞다면 addLoginTime()을 호출하여 데이터 파일에 회원의 로그인 한 시간을 기록합니다.
(로그인한 시간 데이터를 보여준다.)
그리고 마지막으로 회원의 잔여 시간을 화면에 출력할수 있도록 포인터 변수에 값을 넣습니다.
로그아웃 시에는 (login.c 67번째 줄로 이동) 우선 회원 정보를 가져오고
(auth.c 83번째 줄로 이동)
로그인 상태가 아니라면 실패처리하고 로그인한 상태라면 현재 시간 - 로그인 시간을 계산합니다.
그리고 그 시간을 출력할수 있도록 포인터 변수에 값을 넣습니다.
회원의 잔여 시간을 업데이트 하기 위해서 회원의 잔여 시간을 조회하고(auth.c 110번째 줄)
회원의 잔여시간 - (현재 시간 - 로그인한 시간) 을 합니다.
그리고 회원 잔여시간을 저장하고 회원의 로그아웃 상태도 저장합니다.

요금 담당을 설명 드리겠습니다.
(pc_room.c로 이동)
시간 충전을 누르게 되면 시간 충전 ui로 이동하여 사용자의 입력을 받습니다.(charge.c로 이동)
그리고 회원정보를 조회하고 (charge.c 16번째 줄로 이동)
사용자에게 금액을 입력 받아서 (charge.c 52번째 줄로 이동)
입력 받은 만큼의 금액 시간과 회원의 시간을 더해서 데이터 파일에 저장을 합니다.

시간 담당인 time은 회원의 실시간 남은 시간을 조회하는 로직입니다.
(pc_room.c 61번째 줄로 이동) 
(함수 클릭)
회원 ID를 입력 받고
(login.c 24번째 줄로 이동)
(함수 클릭)
(time.c로 이동)
회원 정보를 조회하여
(time.c 48번째줄) 로그인 되어 있다면 (현재시간 - 로그인시간) 을 하여서 현재 경과 시간을 보여주도록하고
로그아웃 되어 있다면 
포인터 변수의 값을 변경해주어(time.c 61번째 줄로 이동) 남은 시간을 반환 보여주도록 했습니다. 

이번 프로젝트에서 가장 어려웠던 점은 C언어의 특성상 값 복사만 가능하여
파일에서 읽어온 구조체 데이터를 전달하는 과정이었습니다.
이를 Output Parameter Pattern 방식으로 해결했습니다.
구조체의 주소값을 파라미터로 받아 함수 내부에서 데이터를 채워넣는 방식으로,
메모리 효율성과 성능을 개선할 수 있었습니다.

앞으로 단대소고에 입학하여 이 프로젝트를 로컬에서만 작동하는 것이 아닌
모두가 사용할 수 있는 형태로 확장시켜 실질적인 서비스를 운영해보고 싶습니다.

감사합니다.
